<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>MainGlue.mxml</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLComponent_Tag">&lt;Controller</span><span class="MXMLDefault_Text"> xmlns:mx="</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">" xmlns="</span><span class="MXMLString">http://glue.seanhess.net/2009</span><span class="MXMLDefault_Text">" xmlns:control="</span><span class="MXMLString">books.control.*</span><span class="MXMLDefault_Text">" xmlns:view="</span><span class="MXMLString">books.view.*</span><span class="MXMLDefault_Text">" xmlns:browse="</span><span class="MXMLString">books.view.browse.*</span><span class="MXMLDefault_Text">" xmlns:pages="</span><span class="MXMLString">books.view.pages.*</span><span class="MXMLDefault_Text">" xmlns:model="</span><span class="MXMLString">books.model.*</span><span class="MXMLDefault_Text">" xmlns:service="</span><span class="MXMLString">books.service.*</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>

    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">books</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">model</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Book</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FlexEvent</span>;
        <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> MODELS </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;model:Library</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">library</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;model:Browse</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">browse</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;model:Search</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">search</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> SERVICES </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;service:BrowseService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">browseService</span><span class="MXMLDefault_Text">" browse="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" library="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">library</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;service:SearchService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">searchService</span><span class="MXMLDefault_Text">" search="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">search</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" library="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">library</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>    




    
    
    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;view:MainView</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">mainView</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> event="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CREATION_COMPLETE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mock</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> event="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">MainView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SEARCH</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSearch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> event="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">MainView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BROWSE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBrowse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>

    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;view:MainPagesView</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">pages</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;Inject</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">back</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" visible="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">backEnabled</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Inject</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">browseResults</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" books="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">books</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" authors="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">library</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">authors</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Inject</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">searchResults</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" books="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">search</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bookResults</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" authors="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">search</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">authorResults</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">back</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">click</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">goBack</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">goBack</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">goBack</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">showSearch</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSearch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">showBrowse</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBrowse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">showBook</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBook</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">showAuthor</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showAuthor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;Observe</span><span class="MXMLDefault_Text"> model="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">search</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">search</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">pages</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSearchResults</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;pages:ResultsPage</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">results</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> event="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ResultsPage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SELECT_BOOK</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBook</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedBook</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> event="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">ResultsPage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SELECT_AUTHOR</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showAuthor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">results</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedAuthor</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> 
        I could use MouseEvent.click instead of click here if I cared
    </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;pages:BookPage</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">bookView</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Inject</span><span class="MXMLDefault_Text"> book="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentBook</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">bookView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">authorButton</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">click</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showAuthor</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">bookView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">book</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">author</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;pages:AuthorPage</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">authorView</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>    
        <span class="MXMLComponent_Tag">&lt;Inject</span><span class="MXMLDefault_Text"> author="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">browse</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentAuthor</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">authorView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">booksList</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">itemClick</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">browseService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showBook</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">authorView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">booksList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedItem</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Book</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;Glue&gt;</span>
        <span class="MXMLComponent_Tag">&lt;pages:SearchPage</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">searchView</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;Route</span><span class="MXMLDefault_Text"> child="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">searchView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">searchBtn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" event="</span><span class="MXMLString">click</span><span class="MXMLDefault_Text">" call="</span><span class="ActionScriptDefault_Text">searchService</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">doSearch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">searchView</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">input</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Glue&gt;</span>

<span class="MXMLComponent_Tag">&lt;/Controller&gt;</span></pre></body>
</html>
