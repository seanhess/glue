<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>MainMap.mxml</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLComponent_Tag">&lt;EventMap</span><span class="MXMLDefault_Text">
    xmlns:mx="</span><span class="MXMLString">http://www.adobe.com/2006/mxml</span><span class="MXMLDefault_Text">"
    xmlns="</span><span class="MXMLString">http://mate.asfusion.com/</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
    
    <span class="MXMLSpecial_Tag">&lt;mx:Script&gt;</span>
        <span class="ActionScriptOperator">&lt;</span><span class="ActionScriptOperator">!</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">CDATA</span><span class="ActionScriptBracket/Brace">[</span>
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FlexEvent</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flickrBook</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">business</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text"></span><span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flickrBook</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text"></span><span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flickrBook</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">business</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">modelManagers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text"></span><span class="ActionScriptOperator">*</span>;
            <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flickrBook</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">views</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text"></span><span class="ActionScriptOperator">*</span>;
        <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/mx:Script&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Reading XML configuration file, after that call flickr service to get the initial thumbnails </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> ____________________________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;EventHandlers</span><span class="MXMLDefault_Text"> type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlexEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PREINITIALIZE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;HTTPServiceInvoker</span><span class="MXMLDefault_Text"> method="</span><span class="MXMLString">GET</span><span class="MXMLDefault_Text">" resultFormat="</span><span class="MXMLString">e4x</span><span class="MXMLDefault_Text">"  url="</span><span class="MXMLString">assets/config/configuration.xml</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;resultHandlers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">readConfig</span><span class="MXMLDefault_Text">" arguments="</span><span class="MXMLString">{</span><span class="ActionScriptMetadata">resultObject, data]</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" cache="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlickrHelper</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">prepareSearch</span><span class="MXMLDefault_Text">" arguments="</span><span class="MXMLString">{</span><span class="ActionScriptMetadata">data.user, data.tags]</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;Properties</span><span class="MXMLDefault_Text"> dispatcher="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">scope</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">dispatcher</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/MethodInvoker&gt;</span>
                
            <span class="MXMLComponent_Tag">&lt;/resultHandlers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/HTTPServiceInvoker&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/EventHandlers&gt;</span>
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> SearchEvent.PREPARE ________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;EventHandlers</span><span class="MXMLDefault_Text"> type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PREPARE</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlickrHelper</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">prepareSearch</span><span class="MXMLDefault_Text">" arguments="</span><span class="MXMLString">{</span><span class="ActionScriptMetadata">event.user, event.tags]</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/EventHandlers&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> SearchEvent.FIND_USER ________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;EventHandlers</span><span class="MXMLDefault_Text"> type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FIND_USER</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;HTTPServiceInvoker</span><span class="MXMLDefault_Text">  instance="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">flickrService</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_URL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;Request</span><span class="MXMLDefault_Text"> method="</span><span class="MXMLString">flickr.people.findByUsername</span><span class="MXMLDefault_Text">" api_key="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_KEY</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" username="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">user</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;resultHandlers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlickrParser</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">parseUser</span><span class="MXMLDefault_Text">" arguments="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resultObject</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
                
                <span class="MXMLComponent_Tag">&lt;EventAnnouncer</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SEARCH</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
                    <span class="MXMLComponent_Tag">&lt;Properties</span><span class="MXMLDefault_Text"> userID="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lastReturn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" tags="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tags</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;/EventAnnouncer&gt;</span>
                
            <span class="MXMLComponent_Tag">&lt;/resultHandlers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/HTTPServiceInvoker&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/EventHandlers&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> SearchEvent.SEARCH ________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;EventHandlers</span><span class="MXMLDefault_Text"> type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SEARCH</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;HTTPServiceInvoker</span><span class="MXMLDefault_Text"> instance="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">flickrService</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_URL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;Request</span><span class="MXMLDefault_Text"> method="</span><span class="MXMLString">flickr.photos.search</span><span class="MXMLDefault_Text">" api_key="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_KEY</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" user_id="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userID</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" tags="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tags</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" page="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">page</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;resultHandlers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlickrParser</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"    method="</span><span class="MXMLString">parseXML</span><span class="MXMLDefault_Text">"     arguments="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resultObject</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" cache="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">PhotoManager</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"     method="</span><span class="MXMLString">setPhotos</span><span class="MXMLDefault_Text">"     arguments="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lastReturn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/resultHandlers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/HTTPServiceInvoker&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/EventHandlers&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> SearchEvent.INTERESTINGNESS ________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;EventHandlers</span><span class="MXMLDefault_Text"> type="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">SearchEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">INTERESTINGNESS</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;HTTPServiceInvoker</span><span class="MXMLDefault_Text"> instance="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">flickrService</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" url="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_URL</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;Request</span><span class="MXMLDefault_Text"> method="</span><span class="MXMLString">flickr.interestingness.getList</span><span class="MXMLDefault_Text">" api_key="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">Config</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">API_KEY</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;resultHandlers&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">FlickrParser</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"    method="</span><span class="MXMLString">parseXML</span><span class="MXMLDefault_Text">"     arguments="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">resultObject</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" cache="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
                <span class="MXMLComponent_Tag">&lt;MethodInvoker</span><span class="MXMLDefault_Text"> generator="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">PhotoManager</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">"     method="</span><span class="MXMLString">setPhotos</span><span class="MXMLDefault_Text">"     arguments="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">lastReturn</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/resultHandlers&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/HTTPServiceInvoker&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/EventHandlers&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> ======================================================================================== </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Property Injectors _____________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> PhotoViewerModel _______________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;Injectors</span><span class="MXMLDefault_Text"> target="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">PhotoViewer</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;PropertyInjector</span><span class="MXMLDefault_Text"> targetKey="</span><span class="MXMLString">currentSet</span><span class="MXMLDefault_Text">" source="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">PhotoManager</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" sourceKey="</span><span class="MXMLString">currentSet</span><span class="MXMLDefault_Text">" </span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/Injectors&gt;</span>
    
    
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> ======================================================================================== </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> Services   Note: you can have an external file if you have more services </span><span class="MXMLComment">--&gt;</span>
    <span class="MXMLComment">&lt;!--</span><span class="MXMLComment"> _________________________________________________________________________________________ </span><span class="MXMLComment">--&gt;</span>
    
    <span class="MXMLComponent_Tag">&lt;mx:HTTPService</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">flickrService</span><span class="MXMLDefault_Text">" method="</span><span class="MXMLString">GET</span><span class="MXMLDefault_Text">" resultFormat="</span><span class="MXMLString">e4x</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    
<span class="MXMLComponent_Tag">&lt;/EventMap&gt;</span></pre></body>
</html>
